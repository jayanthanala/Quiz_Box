<%- include("./partials/teheader.ejs") %>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
 </head>
<body>
<div class="continer-fluid">
  <div class="row">
    <div class="col-md-2 fixed">
    <div class="sticky-top">
      <h4>Total number of questions: <span id="qno"><%=qno%></span></h4>
      <h4>Total number of marks: <span id="marks"><%=marks%></span></h4>
    </div>
    </div>
    <div class="col-md-10" class="main">
        <form class="" action="/te/exam/<%=questions[0].examid%>/edit?_method=patch" method="post">
          <div id=cf>
          <%for(var i=0;i<=questions.length-1;i++){%>
              <div class="container">
                <div class="row">
                  <div class="col m10">
                    <div class="row">
                      <div class="input-field col s12">
                        <input id="q0" type="text" class="validate" name="questions[<%=i%>][q]"  value="<%=questions[i]["q"]%>">
                         <label for="q0">Question</label>
                      </div>
                    </div>
                    <div class="row">
                      <div class="input-field col s6">
                        <input id="optionNo0" type="number" class="validate optionno" min="2" value="<%=questions[i].options.length%>">
                        <label for="optionNo0">Number of options</label>
                      </div>
                      <div class="input-field col s6">
                        <input id="marks<%=i%>" type="number" class="validate marks" min="1" name="questions[<%=i%>][marks]" value="<%=questions[i].marks%>">
                         <label for="marks<%=i%>">Marks for this question</label>
                      </div>
                    </div>
                    <label>Options:</label>
                    <div class="row options">
                      <%for(var j=1;j<=questions[i].options.length;j++){%>
                        <div class="input-field col s6">
                          <input id="o<%=j%>" type="text" class="validate" name="options[<%=i%>][<%=j%>]" value="<%=questions[i].options[j-1]%>">
                           <label for="o<%=j%>"><%=j%></label>
                        </div>
                      <%}%>
                    </div>
                  <div class="row">
                    <div class="input-field col s12">
                      <input id="c0" type="number" class="validate" name="questions[<%=i%>][ans]" min="1" value="<%=questions[i]["ans"]%>" >
                       <label for="c0">Correct Option Number</label>
                    </div>
                  </div>
                  </div>
                  <div class="col-md-2 d-flex justify-content-around align-items-center">
                      <button class="plus" id="plus<%=i%>">+</button>
                      <%if(i!=0){%>
                      <button class="minus" id="minus<%=i%>">-</button>
                      <%}%>
                  </div>
                </div>
              </div>

          <%}%>
          </div>
          <div class="row d-flex justify-content-center">
            <button>Submit</button>
          </div>
        </form>
    </div>
  </div>
</div>


<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="/scripts/examedit.js"></script>

<%- include("./partials/tefooter.ejs") %>
